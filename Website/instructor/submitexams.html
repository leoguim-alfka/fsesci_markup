<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    
	<link rel="shortcut icon" type="image/png" href="../ico/favico.png">
	<title>Florida Stormwater, Erosion, and Sedimentation Control Inspector Training & Certification Program</title>
  </head>
  
  <body style="background-color: #e6f2ff;">
	<div class="container">
	<header>
		<nav class="navbar navbar-expand-lg navbar-light" style="background-color: #e6f2ff;">
			<a class="navbar-brand" href="#">
				<img src="../ico/FSESCI.svg" width="30" height="30" class="d-inline-block align-top" alt="">
					FSESCI
			</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item">
						<a class="nav-link" href="index.html">Instructor Profile</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="classes.html">Schedule Classes</a>
					</li>
					<li class="nav-item active">
						<a class="nav-link" href="#">Submit Exams <span class="sr-only">(current)</span></a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="resetpass.html">Reset Password</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="../index.html">Log Out</a>
					</li>
				</ul>
			</div>
		</nav>
	</header>
	
	<!-- START MAIN PAGE CONTENT -->
	<div class="card border-dark mb-3">
	  <div class="card-header">
		<h5>Submit Graded Exams and Documents</h5>
	  </div>
		<div class="card-body">
			<form id="newClass" action="classes.html" class="d-block">	
			  <div class="form-group row">
				<label for="selectClass" class="col-sm-3 col-form-label">Date and Location</label>
				<div class="col-sm-9">
					<select class="custom-select" id="selectClass" required>
						<option disabled selected value> -- Select a Class -- </option>
						<option>2020-07-15 - Tampa</option>
						<option>2020-07-05 - Orlando</option>
						<option>2020-03-12 - Miami</option>
					</select>
				</div>
			  </div>
			  <fieldset class="form-group">
				<div class="row">
					<legend class="col-form-label col-sm-3 pt-0">Are CEUs Provided?</legend>
					<div class="col-sm-2">
						<div class="form-check">
							<input class="form-check-input" type="radio" name="ceuRadios" id="ceuRadios1" value=1 required>
							<label class="form-check-label" for="gridRadios1">
								Yes
							</label>
						</div>
						<div class="form-check">
							<input class="form-check-input" type="radio" name="ceuRadios" id="ceuRadios2" value=0>
							<label class="form-check-label" for="gridRadios2">
								No
							</label>
						</div>
					</div>
					<div class="col-sm-7">
						<div class="custom-file d-none" id="pdfCEU">
							<input type="file" class="custom-file-input" id="fileCEU" accept="application/pdf">
							<label class="custom-file-label" for="fileCEU">Upload CEU (pdf)</label>
						</div>
					</div>
				</div>
			  </fieldset>
			  <div class="form-group row">
				<legend class="col-form-label col-sm-3 pt-0">Graded Exams</legend>
				<div class="col-sm-9">
					<div class="custom-file">
						<input type="file" class="custom-file-input" id="fileExam" accept="application/pdf" required>
						<label class="custom-file-label" for="fileExam">Upload graded exams with signature pages (pdf)</label>
					</div>
				</div>
			  </div>
			  <div class="form-group row">
				<legend class="col-form-label col-sm-3 pt-0">Instructor Evaluations</legend>
				<div class="col-sm-9">
					<div class="custom-file">
						<input type="file" class="custom-file-input" id="fileEval" accept="application/pdf" required>
						<label class="custom-file-label" for="fileEval">Upload instructor evaluations (pdf)</label>
					</div>
				</div>
			  </div>
			  <div class="form-group row">
				<legend class="col-form-label col-sm-3 pt-0">Syllabus</legend>
				<div class="col-sm-9">
					<div class="custom-file">
						<input type="file" class="custom-file-input" id="fileSyl" accept="application/pdf" required>
						<label class="custom-file-label" for="fileSyl">Upload syllabus used in class (pdf)</label>
					</div>
				</div>
			  </div>
			  <div class="form-group row">
				<legend class="col-form-label col-sm-3 pt-0">Sign-In Sheet</legend>
				<div class="col-sm-9">
					<div class="custom-file">
						<input type="file" class="custom-file-input" id="fileSign" accept="application/pdf" required>
						<label class="custom-file-label" for="fileSign">Upload <b>signed</b> sign-in sheets (pdf)</label>
					</div>
				</div>
			  </div>
			  <div class="form-group row">
				<legend class="col-form-label col-sm-3 pt-0">Score Spreadsheet</legend>
				<div class="col-sm-9">
					<div class="custom-file">
						<input type="file" class="custom-file-input" id="fileScore" accept="application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/excel" required>
						<label class="custom-file-label" for="fileScore">Upload Excel Spreadsheet of Graded Exams</label>
					</div>
				</div>
			  </div>
			  <div class="form-group row">
					<div class="form-group col-md-6">
						<label for="tdate">Today's Date</label>
						<input type="text" class="form-control" id="tdate" disabled>
					</div>
					<div class="form-group col-md-6">
						<label for="cdate">Class Date</label>
						<input type="date" class="form-control" id="cdate" disabled>
					</div>
			  </div>
			  <p><b id="dateMessage"></b><p>
				<button type="submit" class="btn btn-primary btn-lg btn-block" id="submitButton">Submit Exam Documents</button>
			</form>		
		</div>
	</div>
	
	
	<!--BEGIN FOOTER-->
	<footer class="footer mt-auto py-3">
		<div class="container">
			<span class="text-muted">Â© Copyright 2020 Florida Department of Environmental Protection</span>
		</div>
	</footer>
	
  </div>
  

    

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
	<script type="text/javascript">
	$("[id^=file]").on('change',function(){
		//get the file name
		var fileName = $(this).val();
		var cleanFileName = fileName.replace('C:\\fakepath\\', " ");
		//replace the "Choose a file" label
		$(this).next('.custom-file-label').html(cleanFileName);
	})
    </script>
	<!-- Validation for CEUs -->
	<script type="text/javascript">
		var tdate = document.getElementById("tdate");
		var today = new Date();
		tdate.value = today.toJSON().split('T')[0].split('-')[1] + "/" + today.toJSON().split('T')[0].split('-')[2] + "/" + today.toJSON().split('T')[0].split('-')[0];
		
		document.getElementById("ceuRadios1").addEventListener("click", function(){ validateDate(); });
		document.getElementById("ceuRadios2").addEventListener("click", function(){ validateDate(); });		
		document.getElementById("selectClass").addEventListener("change", function(){ validateDate(); });
		
		function validateDate(){
			var selectClass = document.getElementById("selectClass").value;
			var classDate = selectClass.split(" - ")[0];
			var cdate = document.getElementById("cdate");
			cdate.value = classDate;
			var tdate = document.getElementById("tdate");
			var yesCEU = document.getElementById("ceuRadios1");
			var noCEU = document.getElementById("ceuRadios2");
			var dateDiff = daysdifference(new Date(tdate.value), new Date(cdate.value));
			var dateMessage = document.getElementById("dateMessage");
			var submitButton = document.getElementById("submitButton");
			if(dateDiff > 4 && yesCEU.checked)
			{
			dateMessage.innerHTML = "Exam Package cannot be submitted with CEUs. CEU documents need to be submitted within two days of the exam date.";
			submitButton.disabled = true;
			}else if (dateDiff > 17 && noCEU.checked)
			{
			dateMessage.innerHTML = "Exam Package cannot be submitted. Exam packages need to be submitted within two weeks of the exam date.";
			submitButton.disabled = true;
			}else{
			dateMessage.innerHTML = "";
			submitButton.disabled = false;
			}
			if (yesCEU.checked)
			{
				pdfCEU.className = "custom-file";
				fileCEU.required = true;
			} 
			if (noCEU.checked)
			{
				pdfCEU.className = "custom-file d-none";
				fileCEU.required = false;
			}
			return;
		}
		
		function daysdifference(date1, date2) {
            // The number of milliseconds in one day
            var ONEDAY = 1000 * 60 * 60 * 24;
            // Convert both dates to milliseconds
            var date1_ms = date1.getTime();
            var date2_ms = date2.getTime();
            // Calculate the difference in milliseconds
            var difference_ms = Math.abs(date1_ms - date2_ms);

            // Convert back to days and return
            return Math.round(difference_ms/ONEDAY);
		}

	</script>
  </body>
</html>
